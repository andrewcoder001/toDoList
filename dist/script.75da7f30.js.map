{"version":3,"sources":["../utils/addGlobalEventListener.js","dragAndDrop.js","script.js"],"names":["addGlobalEventListener","listener","property","callback","document","addEventListener","e","target","matches","dragAndDrop","selectedTask","closest","taskClone","cloneNode","shadow","offset","setupDragItems","setupDragEvents","taskRect","getBoundingClientRect","x","clientX","left","y","clientY","top","classList","add","positionClone","body","append","style","height","innerHTML","parentElement","insertBefore","mouseMoveFunction","dropArea","getDropArea","closestChild","Array","from","children","find","child","rect","removeDragElements","removeEventListener","once","remove","element","mousePosition"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\main","sourcesContent":["export default function addGlobalEventListener(listener, property, callback){\r\n    document.addEventListener(listener, (e)=>{\r\n        if(e.target.matches(property)){\r\n            callback(e);\r\n        }\r\n    })\r\n}","import addGlobalEventListener from '../utils/addGlobalEventListener';\r\n\r\n\r\nexport default function dragAndDrop(){ \r\n\r\n    addGlobalEventListener('mousedown', '[data-task-element]', e => {\r\n        const selectedTask = e.target.closest('[data-task]')\r\n        const taskClone = selectedTask.cloneNode(true);\r\n        const shadow = selectedTask.cloneNode();\r\n        const offset = setupDragItems(selectedTask, taskClone, shadow,e);\r\n      \r\n        setupDragEvents(selectedTask, taskClone, offset, shadow)\r\n     \r\n\r\n    })    \r\n}\r\n\r\nfunction setupDragItems(selectedTask, taskClone, shadow, e){\r\n    const taskRect = selectedTask.getBoundingClientRect();\r\n  //stopped on offset\r\n  const offset = {\r\n    x: e.clientX - taskRect.left,\r\n    y: e.clientY - taskRect.top\r\n\r\n  }\r\n\r\n    // Adding Class\r\n    selectedTask.classList.add('hide');\r\n    taskClone.classList.add('dragging');\r\n\r\n    // Positioning of Clone     \r\n    positionClone(taskClone, e, offset)\r\n\r\n    // Append to Document\r\n    document.body.append(taskClone)\r\n\r\n    // Shadow Setup\r\n    shadow.style.height = `${taskRect.height}px`\r\n    shadow.classList.add('shadow');\r\n    shadow.innerHTML = '';\r\n    selectedTask.parentElement.insertBefore(shadow, selectedTask)\r\n\r\n    return offset;\r\n}\r\n\r\nfunction setupDragEvents(selectedTask, taskClone, offset,shadow){\r\n    const mouseMoveFunction = (e) => {\r\n        // Create an area for shadow based on e.target (mouse location)\r\n        const dropArea = getDropArea(e.target)\r\n        positionClone(taskClone, e, offset)\r\n        if(dropArea == null) return\r\n\r\n        // Get size of child element mouse is hovering over\r\n        const closestChild = Array.from(dropArea.children).find(child => {\r\n            const rect = child.getBoundingClientRect()\r\n            return e.clientY < rect.top  + rect.height / 2\r\n        })\r\n\r\n        if(closestChild != null){\r\n            dropArea.insertBefore(shadow, closestChild)\r\n        } else {\r\n            dropArea.append(shadow)\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n    document.addEventListener('mousemove', mouseMoveFunction)\r\n    document.addEventListener('mouseup', e => {\r\n        removeDragElements(selectedTask, taskClone, shadow)\r\n        document.removeEventListener('mousemove', mouseMoveFunction)\r\n      \r\n    }, { once: true })\r\n}\r\n\r\nfunction removeDragElements(selectedTask, taskClone, shadow){\r\n    selectedTask.classList.remove('hide')\r\n    taskClone.remove()\r\n    shadow.remove()\r\n}\r\n\r\nfunction getDropArea(element){\r\n    // Detect and return shadow area of mouse target, where it hovers.\r\n    if(element.matches('[data-task-column]')){\r\n        return element\r\n    } else {\r\n       return element.closest('[data-task-column]')\r\n    }\r\n}\r\n\r\n\r\nfunction positionClone(taskClone, mousePosition, offset){\r\n    taskClone.style.top = `${mousePosition.clientY - offset.y}px`;\r\n    taskClone.style.left = `${mousePosition.clientX - offset.x}px`;\r\n}","import dragAndDrop from './dragAndDrop';\r\n\r\ndragAndDrop();"]}